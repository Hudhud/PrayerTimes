@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    @{var result = ViewData["prayers"] as List<PrayerViewModel>;}
    @{
        DateTime dt = DateTime.Today;
        string dateFormatted = dt.Date.ToString("yyyy-MM-dd");
        var prayer = result.First(x => x.fajr_date == dateFormatted);
    }
    @{
        var active = ViewData["Active"] as string;
    }
    <form>
        <table style="width: 100%; margin-bottom: 25px">
            <tr>
                <td>
                    <button class="@(active == "cph" ? "active" : "")" onclick="changeColor(this)" name="button_value" style="background-color: transparent; color: yellow" value="cph" asp-action="check">
                        København
                    </button>
                </td>
                <td>
                    <button class="@(active == "odense" ? "active" : "")" onclick="changeColor(this)" name="button_value" style="background-color: transparent; color: yellow" value="odense" asp-action="check">
                        Odense
                    </button>
                </td>
                <td>
                    <button class="@(active == "aarhus" ? "active" : "")" name="button_value" style="background-color: transparent; color: yellow" value="aarhus" asp-action="check">
                        Århus
                    </button>
                </td>
                <td>
                    <button class="@(active == "aalborg" ? "active" : "")" name="button_value" style="background-color: transparent; color: yellow" value="aalborg" asp-action="check">
                        Aalborg
                    </button>
                </td>
            </tr>
        </table>
        <style>
            .active {
                background-color: #4b8514 !important;
            }
        </style>
        
    </form>

    <table style="width: 100%">
        <tr style="color: #FFDC00">
            <th>Fajr</th>
            <th>Shuruk</th>
            <th>Dhuhr</th>
            <th>Asr</th>
            <th>Maghreb</th>
            <th>Isha</th>
        </tr>
        <tr style="color: #FFDC00">
            <td>
                @Convert.ToDateTime(prayer.fajr_time).AddMinutes(2).ToString("HH:mm")
            </td>
            <td>
                @Convert.ToDateTime(prayer.sunrise_time).AddMinutes(2).ToString("HH:mm")
            </td>
            <td>
                @Convert.ToDateTime(prayer.zohr_time).AddMinutes(2).ToString("HH:mm")
            </td>
            <td>
                @Convert.ToDateTime(prayer.mithl_time).AddMinutes(2).ToString("HH:mm")
            </td>
            <td>
                @Convert.ToDateTime(prayer.sunset_time).AddMinutes(2).ToString("HH:mm")
            </td>
            <td>
                @Convert.ToDateTime(prayer.esha_time).AddMinutes(2).ToString("HH:mm")
            </td>
        </tr>
    </table>
    <table style="width:100%; margin-top: 25px; margin-right">
        <tr style="color: #FFDC00; text-align:right">
            <td>
                Hanafi asr: @Convert.ToDateTime(prayer.mithlain_time).AddMinutes(2).ToString("HH:mm")
            </td>
        </tr>
    </table>

</div>
